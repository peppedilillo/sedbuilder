{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"sedbuilder","text":"<p>The sedbuilder package implements a Python interface to the ASI Space Science Data Center's SED Builder REST API.</p>"},{"location":"#overview","title":"Overview","text":"<p>This package provides programmatic access to multi-wavelength spectral energy distribution (SED) data from catalogs, surveys, and archival observations across the electromagnetic spectrum. It is based on SED Builder, a software developed at the ASI-SSDC to produce and display the SED data over the web.</p>"},{"location":"#installation","title":"Installation","text":"<pre><code>pip install ssdc-sedbuilder\n</code></pre>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code>from sedbuilder import get_data\n\n# Get response from SED for astronomical coordinates\nresponse = get_data(ra=194.04625, dec=-5.789167)\n\n# Access data in different formats\ntable = response.to_astropy()     # Astropy Table\ndata_dict = response.to_dict()    # Python dictionary\njt = response.to_jetset(z=0.034)  # Jetset table\njson_str = response.to_json()     # JSON string\ndf = response.to_pandas()         # Pandas DataFrame (requires pandas)\n</code></pre>"},{"location":"#development","title":"Development","text":"<pre><code>git clone https://github.com/peppedilillo/sedbuilder.git\ncd sedbuilder\npip install -e \".[dev]\"\npre-commit install\npytest\n</code></pre>"},{"location":"#requests","title":"Requests","text":"<p>Need a new feature? Don't hesitate to ask in our discussion section.</p>"},{"location":"#documentation","title":"Documentation","text":"<p>Check out our API reference.</p>"},{"location":"api/","title":"API Reference","text":"<p>This API reference describes the Python interface to the ASI-SSDC SED Builder service.  The package provides functions to query astronomical sources and convert spectral energy distribution data into various formats.</p> <p>Warning</p> <p>At present, <code>sedbuilder</code> is only internally operational. This means you need to be on the ASI-SSDC network to use it. We will release to public soon.</p> <p>Note</p> <p>At present, only internally hosted catalogs are supported. More will come.</p>"},{"location":"api/#functions","title":"Functions","text":""},{"location":"api/#sedbuilder.requests.get_data","title":"<code>get_data(ra, dec, timeout=30.0)</code>","text":"<p>Queries the SSDC SED Builder API to retrieve Spectral Energy Distribution data for the specified sky coordinates.</p> <p>Parameters:</p> Name Type Description Default <code>ra</code> <code>Annotated[float, Field(ge=0.0, lt=360.0, description='Right ascension in degrees.')]</code> <p>Right ascension in degrees (0 to 360).</p> required <code>dec</code> <code>Annotated[float, Field(ge=-90.0, le=90.0, description='Declination in degrees.')]</code> <p>Declination in degrees (-90 to 90).</p> required <code>timeout</code> <code>Annotated[Union[float, int], Field(gt=0.0, description='Request timeout in seconds.')]</code> <p>Request timeout in seconds (default: 30.0).</p> <code>30.0</code> <p>Returns:</p> Type Description <code>GetDataResponse</code> <p>A response object. Use its methods to recover data in different formats.</p> <p>Raises:</p> Type Description <code>ValidationError</code> <p>If coordinates are out of valid range.</p> <code>TimeoutError</code> <p>If the API request exceeds the timeout.</p> <code>RuntimeError</code> <p>If the API request fails for other reasons.</p> Example <pre><code>from sedbuilder import get_data\n\n# Get response from SED for astronomical coordinates\nresponse = get_data(ra=194.04625, dec=-5.789167)\n\n# Access data in different formats\ntable = response.to_astropy()     # Astropy Table\ndata_dict = response.to_dict()    # Python dictionary\njt = response.to_jetset(z=0.034)  # Jetset table\njson_str = response.to_json()     # JSON string\ndf = response.to_pandas()         # Pandas DataFrame (requires pandas)\n</code></pre> Source code in <code>sedbuilder/requests.py</code> <pre><code>@validate_call\ndef get_data(\n    ra: Annotated[\n        float,\n        Field(ge=0.0, lt=360.0, description=\"Right ascension in degrees.\"),\n    ],\n    dec: Annotated[\n        float,\n        Field(ge=-90.0, le=90.0, description=\"Declination in degrees.\"),\n    ],\n    timeout: Annotated[\n        Union[float, int],  # TODO: replace with | syntax when we drop python 3.10 support\n        Field(gt=0.0, description=\"Request timeout in seconds.\"),\n    ] = 30.0,\n) -&gt; GetDataResponse:\n    \"\"\"Queries the SSDC SED Builder API to retrieve Spectral Energy Distribution\n    data for the specified sky coordinates.\n\n    Args:\n        ra: Right ascension in degrees (0 to 360).\n        dec: Declination in degrees (-90 to 90).\n        timeout: Request timeout in seconds (default: 30.0).\n\n    Returns:\n        A response object. Use its methods to recover data in different formats.\n\n    Raises:\n        ValidationError: If coordinates are out of valid range.\n        TimeoutError: If the API request exceeds the timeout.\n        RuntimeError: If the API request fails for other reasons.\n\n    Example:\n        ```python\n        from sedbuilder import get_data\n\n        # Get response from SED for astronomical coordinates\n        response = get_data(ra=194.04625, dec=-5.789167)\n\n        # Access data in different formats\n        table = response.to_astropy()     # Astropy Table\n        data_dict = response.to_dict()    # Python dictionary\n        jt = response.to_jetset(z=0.034)  # Jetset table\n        json_str = response.to_json()     # JSON string\n        df = response.to_pandas()         # Pandas DataFrame (requires pandas)\n        ```\n    \"\"\"\n    r = _get_and_validate(APIPaths.GET_DATA(ra=ra, dec=dec), timeout)\n    return GetDataResponse(**r.json())\n</code></pre>"},{"location":"api/#sedbuilder.utils.get_data_from_json","title":"<code>get_data_from_json(filepath)</code>","text":"<p>Reads a JSON file containing SED Builder API response data and validates it against <code>get_data</code> response schema.</p> <p>Parameters:</p> Name Type Description Default <code>filepath</code> <code>Annotated[FilePath, Field(description='Path to JSON file.')]</code> <p>Path to a JSON file containing SED Builder response data.       The file must exist and contain valid JSON matching the <code>get_data</code>       response schema.</p> required <p>Returns:</p> Type Description <code>GetDataResponse</code> <p>Response object with validated SED data.</p> <p>Raises:</p> Type Description <code>ValidationError</code> <p>If the file does not exist, or if file content does not              match the expected response schema.</p> Source code in <code>sedbuilder/utils.py</code> <pre><code>@validate_call\ndef get_data_from_json(\n    filepath: Annotated[\n        FilePath,\n        Field(description=\"Path to JSON file.\"),\n    ],\n) -&gt; GetDataResponse:\n    \"\"\"Reads a JSON file containing SED Builder API response data and validates it\n    against `get_data` response schema.\n\n    Args:\n        filepath: Path to a JSON file containing SED Builder response data.\n                  The file must exist and contain valid JSON matching the `get_data`\n                  response schema.\n\n    Returns:\n        Response object with validated SED data.\n\n    Raises:\n        ValidationError: If the file does not exist, or if file content does not\n                         match the expected response schema.\n    \"\"\"\n    return GetDataResponse.model_validate_json(Path(filepath).read_text())\n</code></pre>"},{"location":"api/#sedbuilder.requests.catalogs","title":"<code>catalogs(timeout=30.0)</code>","text":"<p>Queries the SSDC SED Builder API to retrieve the list of available catalogs.</p> <p>Parameters:</p> Name Type Description Default <code>timeout</code> <code>Annotated[Union[float, int], Field(gt=0.0, description='Request timeout in seconds.')]</code> <p>Request timeout in seconds (default: 30.0).</p> <code>30.0</code> <p>Returns:</p> Type Description <code>CatalogsResponse</code> <p>A response object containing catalog information. Use its methods to recover data in different formats.</p> <p>Raises:</p> Type Description <code>TimeoutError</code> <p>If the API request exceeds the timeout.</p> <code>RuntimeError</code> <p>If the API request fails for other reasons.</p> Example <pre><code>from sedbuilder import catalogs\n\n# Get list of available catalogs\nresponse = catalogs()\n\n# Access catalog data as a list of dictionaries\ncatalog_list = response.to_list()\n</code></pre> Source code in <code>sedbuilder/requests.py</code> <pre><code>@validate_call\ndef catalogs(\n    timeout: Annotated[\n        Union[float, int],  # TODO: replace with | syntax when we drop python 3.10 support\n        Field(gt=0.0, description=\"Request timeout in seconds.\"),\n    ] = 30.0,\n) -&gt; CatalogsResponse:\n    \"\"\"Queries the SSDC SED Builder API to retrieve the list of available catalogs.\n\n    Args:\n        timeout: Request timeout in seconds (default: 30.0).\n\n    Returns:\n        A response object containing catalog information. Use its methods to recover data in different formats.\n\n    Raises:\n        TimeoutError: If the API request exceeds the timeout.\n        RuntimeError: If the API request fails for other reasons.\n\n    Example:\n        ```python\n        from sedbuilder import catalogs\n\n        # Get list of available catalogs\n        response = catalogs()\n\n        # Access catalog data as a list of dictionaries\n        catalog_list = response.to_list()\n        ```\n    \"\"\"\n    r = _get_and_validate(APIPaths.CATALOGS(), timeout)\n    return CatalogsResponse(**r.json())\n</code></pre>"},{"location":"api/#sedbuilder.utils.catalogs_from_json","title":"<code>catalogs_from_json(filepath)</code>","text":"<p>Reads a JSON file containing SED Builder API catalog data and validates it against <code>catalogs</code> response schema.</p> <p>Parameters:</p> Name Type Description Default <code>filepath</code> <code>Annotated[FilePath, Field(description='Path to JSON file.')]</code> <p>Path to a JSON file containing SED Builder catalog data.       The file must exist and contain valid JSON matching the <code>catalogs</code>       response schema.</p> required <p>Returns:</p> Type Description <code>CatalogsResponse</code> <p>Response object with validated catalog information.</p> <p>Raises:</p> Type Description <code>ValidationError</code> <p>If the file does not exist, or if file content does not              match the expected response schema.</p> Source code in <code>sedbuilder/utils.py</code> <pre><code>@validate_call\ndef catalogs_from_json(\n    filepath: Annotated[\n        FilePath,\n        Field(description=\"Path to JSON file.\"),\n    ],\n) -&gt; CatalogsResponse:\n    \"\"\"Reads a JSON file containing SED Builder API catalog data and validates it\n    against `catalogs` response schema.\n\n    Args:\n        filepath: Path to a JSON file containing SED Builder catalog data.\n                  The file must exist and contain valid JSON matching the `catalogs`\n                  response schema.\n\n    Returns:\n        Response object with validated catalog information.\n\n    Raises:\n        ValidationError: If the file does not exist, or if file content does not\n                         match the expected response schema.\n    \"\"\"\n    return CatalogsResponse.model_validate_json(Path(filepath).read_text())\n</code></pre>"},{"location":"api/#classes","title":"Classes","text":""},{"location":"api/#sedbuilder.schemas.GetDataResponse","title":"<code>GetDataResponse</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>SED Builder API response to <code>getData</code> endpoint.</p> <p>To retrieve data you call <code>.to_astropy()</code>, or <code>.to_dict()</code> and other methods.</p> <p>Attributes:</p> Name Type Description <code>ResponseInfo</code> <code>ResponseInfo</code> <p>Status information about the API response.</p> <code>Properties</code> <code>Properties</code> <p>Additional properties for the queried source.</p> <code>Catalogs</code> <code>list[CatalogEntry]</code> <p>List of catalog entries with measurements.</p> Source code in <code>sedbuilder/schemas.py</code> <pre><code>class GetDataResponse(BaseModel):\n    \"\"\"SED Builder API response to `getData` endpoint.\n\n    To retrieve data you call `.to_astropy()`, or `.to_dict()` and other methods.\n\n    Attributes:\n        ResponseInfo: Status information about the API response.\n        Properties: Additional properties for the queried source.\n        Catalogs: List of catalog entries with measurements.\n    \"\"\"\n\n    ResponseInfo: ResponseInfo\n    Properties: Properties\n    Catalogs: list[CatalogEntry]\n\n    def __repr__(self) -&gt; str:\n        return f\"Response(status={self.ResponseInfo.statusCode!r}, \" f\"Catalogs: [#{len(self.Catalogs)} entries])\"\n\n    def is_successful(self) -&gt; bool:\n        \"\"\"Check if the API response indicates success.\n\n        Returns:\n            True if the response status code is 'OK'.\n        \"\"\"\n        return self.ResponseInfo.statusCode == \"OK\"\n\n    def to_dict(self) -&gt; dict:\n        \"\"\"Converts data to a dictionary.\n\n        Returns:\n            A dictionary from the response JSON.\n        \"\"\"\n        return self.model_dump()\n\n    def to_json(self) -&gt; str:\n        \"\"\"Converts data to JSON.\n\n        Returns:\n            A JSON string.\n        \"\"\"\n        return json.dumps(self.model_dump())\n\n    def to_pandas(self) -&gt; Any:\n        \"\"\"Converts data to a pandas DataFrame.\n\n        Requires pandas to be installed. Install with `pip install pandas`.\n\n        Returns:\n            A pandas dataframe.\n\n        Raises:\n            ImportError: If pandas is not installed.\n        \"\"\"\n        try:\n            return self.to_astropy().to_pandas()\n        except AttributeError:\n            raise ImportError(\"pandas is required for this method. Install it with: pip install pandas\")\n\n    def to_astropy(self) -&gt; Table:\n        \"\"\"Convert data to an astropy Table.\n\n        Returns:\n            Astropy Table with one row per measurements.\n        \"\"\"\n        # the gist of it is to build two different tables and to stack them horizontally.\n        # the first table is for data columns, the second for the catalog columns.\n        columns_data = [*TABLE_SCHEMA.columns(kind=\"data\")]\n        columns_catalog = [*TABLE_SCHEMA.columns(kind=\"catalog\")]\n\n        # first we have to unpack the data\n        rows_data, rows_catalog = [], []\n        for catalog_entry in self.Catalogs:\n            catalog_dump = catalog_entry.Catalog.model_dump()\n            for source_data in catalog_entry.SourceData:\n                rows_data.append(source_data.model_dump())\n                rows_catalog.append(catalog_dump)\n\n        # TODO: this is an awful hack around astropy 6, which we need to support over 3.10.\n        #  remove when we stop supporting astropy 6.\n        #  N! i am unsure on whether we could have catalog info without data. the contrary should not be possible.\n        #  N! this said, no data means no science: it seems safe to me to just check for `rows_data`\n        if not rows_data:\n            columns = columns_data + columns_catalog\n            table = Table(\n                np.zeros(len(columns)),\n                names=[col.name for col in columns],\n                dtype=[col.dtype for col in columns],\n                units=[col.units for col in columns],\n            )[:0]\n        else:\n            # first, the column table\n            table_data = Table(\n                rows_data,\n                names=[col.name for col in columns_data],\n                dtype=[col.dtype for col in columns_data],\n                units=[col.units for col in columns_data],\n            )\n\n            # second, the catalog property table\n            table_catalog = Table(\n                rows_catalog,\n                names=[col.name for col in columns_catalog],\n                dtype=[col.dtype for col in columns_catalog],\n                units=[col.units for col in columns_catalog],\n            )\n\n            # then, we stack\n            table = hstack((table_data, table_catalog))\n\n        # and add metadata\n        for m in TABLE_SCHEMA.metadata():\n            table.meta[m.name] = getattr(self.Properties, m.name)\n            if m.units:\n                table.meta[m.name] *= m.units\n        return table\n\n    @validate_call\n    def to_jetset(\n        self,\n        z: Annotated[\n            float,\n            Field(ge=0.0, le=1.0, description=\"Source redshift, must be between 0 and 1.\"),\n        ],\n        ul_cl: Annotated[\n            float,\n            Field(ge=0.0, le=1.0, description=\"Confidence level for upper limits, must be between 0 and 1.\"),\n        ] = 0.95,\n        restframe: Annotated[\n            Literal[\"obs\", \"src\"],\n            Field(description=\"Reference frame for the data. Defaults to 'obs'.\"),\n        ] = \"obs\",\n        data_scale: Annotated[\n            Literal[\"lin-lin\", \"log-log\"],\n            Field(description=\"Scale format of the data.\"),\n        ] = \"lin-lin\",\n        obj_name: Annotated[\n            str,\n            Field(description=\"Name identifier for the object.\"),\n        ] = \"new-src\",\n    ) -&gt; Table:\n        # noinspection PyUnresolvedReferences\n        \"\"\"Convert data to Jetset format.\n\n        The output includes both the data table with renamed columns and appropriate units,\n        plus metadata needed for Jetset analysis.\n\n        Args:\n            z: Source redshift, must be between 0 and 1.\n            ul_cl: Confidence level for upper limits, must be between 0 and 1,\n                exclusive. Default is 0.95.\n            restframe: Reference frame for the data. Options are \"obs\" for observed flux (default)\n                and \"src\" for source luminosities.\n            data_scale: Scale format of the data. Options are  \"lin-lin\" for linear scale (default),\n                and \"log-log\" for logarithmic scale.\n            obj_name: Name identifier for the object. Default is \"new-src\".\n\n        Returns:\n            A table with column names, units and metadata, compatible with `jetset.data_loader.Data`.\n\n        Raises:\n            ValueError: If z &lt; 0, ul_cl is not in (0, 1), restframe or data_scale\n                have invalid values, obj_name is empty, or required table columns\n                are missing.\n\n        Example:\n            ```python\n            from sedbuilder import get_data\n            from jetset.data_loader import Data\n\n            # Get response from SED for astronomical coordinates\n            response = get_data(ra=194.04625, dec=-5.789167)\n            # Initialize jetset data structure\n            jetset_data = Data(response.to_jetset(z=0.034))\n            ```\n        \"\"\"\n        # type and label choice from Jetset documentation, \"Data format and SED data\".\n        # fmt: off\n        t = self.to_astropy()\n        table = Table()\n        table.add_column(t[TABLE_SCHEMA.FREQUENCY.name].astype(np.float64), name=\"x\")\n        table.add_column(t[TABLE_SCHEMA.FREQUENCY_ERROR.name].astype(np.float64), name=\"dx\")\n        table.add_column(t[TABLE_SCHEMA.NUFNU.name].astype(np.float64), name=\"y\")\n        table.add_column(t[TABLE_SCHEMA.NUFNU_ERROR.name].astype(np.float64), name=\"dy\")\n        table.add_column(np.nan_to_num(t[TABLE_SCHEMA.START_TIME.name].value, nan=0.0).astype(np.float64), name=\"T_start\")\n        table.add_column(np.nan_to_num(t[TABLE_SCHEMA.STOP_TIME.name].value, nan=0.0).astype(np.float64), name=\"T_stop\")\n        table.add_column(t[\"Info\"] == \"Upper Limit\", name=\"UL\")\n        table.add_column(t[TABLE_SCHEMA.CATALOG_NAME.name].astype(str), name=\"dataset\")\n        table.meta[\"z\"] = z\n        table.meta[\"UL_CL\"] = ul_cl\n        table.meta[\"restframe\"] = restframe\n        table.meta[\"data_scale\"] = data_scale\n        table.meta[\"obj_name\"] = obj_name\n        # fmt: on\n        return table\n</code></pre>"},{"location":"api/#sedbuilder.schemas.GetDataResponse.is_successful","title":"<code>is_successful()</code>","text":"<p>Check if the API response indicates success.</p> <p>Returns:</p> Type Description <code>bool</code> <p>True if the response status code is 'OK'.</p> Source code in <code>sedbuilder/schemas.py</code> <pre><code>def is_successful(self) -&gt; bool:\n    \"\"\"Check if the API response indicates success.\n\n    Returns:\n        True if the response status code is 'OK'.\n    \"\"\"\n    return self.ResponseInfo.statusCode == \"OK\"\n</code></pre>"},{"location":"api/#sedbuilder.schemas.GetDataResponse.to_astropy","title":"<code>to_astropy()</code>","text":"<p>Convert data to an astropy Table.</p> <p>Returns:</p> Type Description <code>Table</code> <p>Astropy Table with one row per measurements.</p> Source code in <code>sedbuilder/schemas.py</code> <pre><code>def to_astropy(self) -&gt; Table:\n    \"\"\"Convert data to an astropy Table.\n\n    Returns:\n        Astropy Table with one row per measurements.\n    \"\"\"\n    # the gist of it is to build two different tables and to stack them horizontally.\n    # the first table is for data columns, the second for the catalog columns.\n    columns_data = [*TABLE_SCHEMA.columns(kind=\"data\")]\n    columns_catalog = [*TABLE_SCHEMA.columns(kind=\"catalog\")]\n\n    # first we have to unpack the data\n    rows_data, rows_catalog = [], []\n    for catalog_entry in self.Catalogs:\n        catalog_dump = catalog_entry.Catalog.model_dump()\n        for source_data in catalog_entry.SourceData:\n            rows_data.append(source_data.model_dump())\n            rows_catalog.append(catalog_dump)\n\n    # TODO: this is an awful hack around astropy 6, which we need to support over 3.10.\n    #  remove when we stop supporting astropy 6.\n    #  N! i am unsure on whether we could have catalog info without data. the contrary should not be possible.\n    #  N! this said, no data means no science: it seems safe to me to just check for `rows_data`\n    if not rows_data:\n        columns = columns_data + columns_catalog\n        table = Table(\n            np.zeros(len(columns)),\n            names=[col.name for col in columns],\n            dtype=[col.dtype for col in columns],\n            units=[col.units for col in columns],\n        )[:0]\n    else:\n        # first, the column table\n        table_data = Table(\n            rows_data,\n            names=[col.name for col in columns_data],\n            dtype=[col.dtype for col in columns_data],\n            units=[col.units for col in columns_data],\n        )\n\n        # second, the catalog property table\n        table_catalog = Table(\n            rows_catalog,\n            names=[col.name for col in columns_catalog],\n            dtype=[col.dtype for col in columns_catalog],\n            units=[col.units for col in columns_catalog],\n        )\n\n        # then, we stack\n        table = hstack((table_data, table_catalog))\n\n    # and add metadata\n    for m in TABLE_SCHEMA.metadata():\n        table.meta[m.name] = getattr(self.Properties, m.name)\n        if m.units:\n            table.meta[m.name] *= m.units\n    return table\n</code></pre>"},{"location":"api/#sedbuilder.schemas.GetDataResponse.to_dict","title":"<code>to_dict()</code>","text":"<p>Converts data to a dictionary.</p> <p>Returns:</p> Type Description <code>dict</code> <p>A dictionary from the response JSON.</p> Source code in <code>sedbuilder/schemas.py</code> <pre><code>def to_dict(self) -&gt; dict:\n    \"\"\"Converts data to a dictionary.\n\n    Returns:\n        A dictionary from the response JSON.\n    \"\"\"\n    return self.model_dump()\n</code></pre>"},{"location":"api/#sedbuilder.schemas.GetDataResponse.to_jetset","title":"<code>to_jetset(z, ul_cl=0.95, restframe='obs', data_scale='lin-lin', obj_name='new-src')</code>","text":"<p>Convert data to Jetset format.</p> <p>The output includes both the data table with renamed columns and appropriate units, plus metadata needed for Jetset analysis.</p> <p>Parameters:</p> Name Type Description Default <code>z</code> <code>Annotated[float, Field(ge=0.0, le=1.0, description='Source redshift, must be between 0 and 1.')]</code> <p>Source redshift, must be between 0 and 1.</p> required <code>ul_cl</code> <code>Annotated[float, Field(ge=0.0, le=1.0, description='Confidence level for upper limits, must be between 0 and 1.')]</code> <p>Confidence level for upper limits, must be between 0 and 1, exclusive. Default is 0.95.</p> <code>0.95</code> <code>restframe</code> <code>Annotated[Literal['obs', 'src'], Field(description=\"Reference frame for the data. Defaults to 'obs'.\")]</code> <p>Reference frame for the data. Options are \"obs\" for observed flux (default) and \"src\" for source luminosities.</p> <code>'obs'</code> <code>data_scale</code> <code>Annotated[Literal['lin-lin', 'log-log'], Field(description='Scale format of the data.')]</code> <p>Scale format of the data. Options are  \"lin-lin\" for linear scale (default), and \"log-log\" for logarithmic scale.</p> <code>'lin-lin'</code> <code>obj_name</code> <code>Annotated[str, Field(description='Name identifier for the object.')]</code> <p>Name identifier for the object. Default is \"new-src\".</p> <code>'new-src'</code> <p>Returns:</p> Type Description <code>Table</code> <p>A table with column names, units and metadata, compatible with <code>jetset.data_loader.Data</code>.</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If z &lt; 0, ul_cl is not in (0, 1), restframe or data_scale have invalid values, obj_name is empty, or required table columns are missing.</p> Example <pre><code>from sedbuilder import get_data\nfrom jetset.data_loader import Data\n\n# Get response from SED for astronomical coordinates\nresponse = get_data(ra=194.04625, dec=-5.789167)\n# Initialize jetset data structure\njetset_data = Data(response.to_jetset(z=0.034))\n</code></pre> Source code in <code>sedbuilder/schemas.py</code> <pre><code>@validate_call\ndef to_jetset(\n    self,\n    z: Annotated[\n        float,\n        Field(ge=0.0, le=1.0, description=\"Source redshift, must be between 0 and 1.\"),\n    ],\n    ul_cl: Annotated[\n        float,\n        Field(ge=0.0, le=1.0, description=\"Confidence level for upper limits, must be between 0 and 1.\"),\n    ] = 0.95,\n    restframe: Annotated[\n        Literal[\"obs\", \"src\"],\n        Field(description=\"Reference frame for the data. Defaults to 'obs'.\"),\n    ] = \"obs\",\n    data_scale: Annotated[\n        Literal[\"lin-lin\", \"log-log\"],\n        Field(description=\"Scale format of the data.\"),\n    ] = \"lin-lin\",\n    obj_name: Annotated[\n        str,\n        Field(description=\"Name identifier for the object.\"),\n    ] = \"new-src\",\n) -&gt; Table:\n    # noinspection PyUnresolvedReferences\n    \"\"\"Convert data to Jetset format.\n\n    The output includes both the data table with renamed columns and appropriate units,\n    plus metadata needed for Jetset analysis.\n\n    Args:\n        z: Source redshift, must be between 0 and 1.\n        ul_cl: Confidence level for upper limits, must be between 0 and 1,\n            exclusive. Default is 0.95.\n        restframe: Reference frame for the data. Options are \"obs\" for observed flux (default)\n            and \"src\" for source luminosities.\n        data_scale: Scale format of the data. Options are  \"lin-lin\" for linear scale (default),\n            and \"log-log\" for logarithmic scale.\n        obj_name: Name identifier for the object. Default is \"new-src\".\n\n    Returns:\n        A table with column names, units and metadata, compatible with `jetset.data_loader.Data`.\n\n    Raises:\n        ValueError: If z &lt; 0, ul_cl is not in (0, 1), restframe or data_scale\n            have invalid values, obj_name is empty, or required table columns\n            are missing.\n\n    Example:\n        ```python\n        from sedbuilder import get_data\n        from jetset.data_loader import Data\n\n        # Get response from SED for astronomical coordinates\n        response = get_data(ra=194.04625, dec=-5.789167)\n        # Initialize jetset data structure\n        jetset_data = Data(response.to_jetset(z=0.034))\n        ```\n    \"\"\"\n    # type and label choice from Jetset documentation, \"Data format and SED data\".\n    # fmt: off\n    t = self.to_astropy()\n    table = Table()\n    table.add_column(t[TABLE_SCHEMA.FREQUENCY.name].astype(np.float64), name=\"x\")\n    table.add_column(t[TABLE_SCHEMA.FREQUENCY_ERROR.name].astype(np.float64), name=\"dx\")\n    table.add_column(t[TABLE_SCHEMA.NUFNU.name].astype(np.float64), name=\"y\")\n    table.add_column(t[TABLE_SCHEMA.NUFNU_ERROR.name].astype(np.float64), name=\"dy\")\n    table.add_column(np.nan_to_num(t[TABLE_SCHEMA.START_TIME.name].value, nan=0.0).astype(np.float64), name=\"T_start\")\n    table.add_column(np.nan_to_num(t[TABLE_SCHEMA.STOP_TIME.name].value, nan=0.0).astype(np.float64), name=\"T_stop\")\n    table.add_column(t[\"Info\"] == \"Upper Limit\", name=\"UL\")\n    table.add_column(t[TABLE_SCHEMA.CATALOG_NAME.name].astype(str), name=\"dataset\")\n    table.meta[\"z\"] = z\n    table.meta[\"UL_CL\"] = ul_cl\n    table.meta[\"restframe\"] = restframe\n    table.meta[\"data_scale\"] = data_scale\n    table.meta[\"obj_name\"] = obj_name\n    # fmt: on\n    return table\n</code></pre>"},{"location":"api/#sedbuilder.schemas.GetDataResponse.to_json","title":"<code>to_json()</code>","text":"<p>Converts data to JSON.</p> <p>Returns:</p> Type Description <code>str</code> <p>A JSON string.</p> Source code in <code>sedbuilder/schemas.py</code> <pre><code>def to_json(self) -&gt; str:\n    \"\"\"Converts data to JSON.\n\n    Returns:\n        A JSON string.\n    \"\"\"\n    return json.dumps(self.model_dump())\n</code></pre>"},{"location":"api/#sedbuilder.schemas.GetDataResponse.to_pandas","title":"<code>to_pandas()</code>","text":"<p>Converts data to a pandas DataFrame.</p> <p>Requires pandas to be installed. Install with <code>pip install pandas</code>.</p> <p>Returns:</p> Type Description <code>Any</code> <p>A pandas dataframe.</p> <p>Raises:</p> Type Description <code>ImportError</code> <p>If pandas is not installed.</p> Source code in <code>sedbuilder/schemas.py</code> <pre><code>def to_pandas(self) -&gt; Any:\n    \"\"\"Converts data to a pandas DataFrame.\n\n    Requires pandas to be installed. Install with `pip install pandas`.\n\n    Returns:\n        A pandas dataframe.\n\n    Raises:\n        ImportError: If pandas is not installed.\n    \"\"\"\n    try:\n        return self.to_astropy().to_pandas()\n    except AttributeError:\n        raise ImportError(\"pandas is required for this method. Install it with: pip install pandas\")\n</code></pre>"},{"location":"api/#sedbuilder.schemas.CatalogsResponse","title":"<code>CatalogsResponse</code>","text":"<p>               Bases: <code>BaseModel</code></p> <p>SED Builder API response to <code>catalogs</code> endpoint.</p> <p>Contains information about all available catalogs in the SED Builder system, including their names, identifiers, error radii, and spectral classifications.</p> <p>Attributes:</p> Name Type Description <code>ResponseInfo</code> <code>ResponseInfo</code> <p>Status information about the API response.</p> <code>Catalogs</code> <code>list[CatalogInfo]</code> <p>List of catalog information entries.</p> Source code in <code>sedbuilder/schemas.py</code> <pre><code>class CatalogsResponse(BaseModel):\n    \"\"\"SED Builder API response to `catalogs` endpoint.\n\n    Contains information about all available catalogs in the SED Builder system,\n    including their names, identifiers, error radii, and spectral classifications.\n\n    Attributes:\n        ResponseInfo: Status information about the API response.\n        Catalogs: List of catalog information entries.\n    \"\"\"\n\n    ResponseInfo: ResponseInfo\n    Catalogs: list[CatalogInfo]\n\n    def is_successful(self) -&gt; bool:\n        \"\"\"Check if the API response indicates success.\n\n        Returns:\n            True if the response status code is 'OK'.\n        \"\"\"\n        return self.ResponseInfo.statusCode == \"OK\"\n\n    def to_list(self) -&gt; list[dict]:\n        \"\"\"Converts catalog data to a list of dictionaries.\n\n        Returns:\n            A list of dictionaries, one per catalog, containing all catalog metadata.\n        \"\"\"\n        return [c.model_dump() for c in self.Catalogs]\n</code></pre>"},{"location":"api/#sedbuilder.schemas.CatalogsResponse.is_successful","title":"<code>is_successful()</code>","text":"<p>Check if the API response indicates success.</p> <p>Returns:</p> Type Description <code>bool</code> <p>True if the response status code is 'OK'.</p> Source code in <code>sedbuilder/schemas.py</code> <pre><code>def is_successful(self) -&gt; bool:\n    \"\"\"Check if the API response indicates success.\n\n    Returns:\n        True if the response status code is 'OK'.\n    \"\"\"\n    return self.ResponseInfo.statusCode == \"OK\"\n</code></pre>"},{"location":"api/#sedbuilder.schemas.CatalogsResponse.to_list","title":"<code>to_list()</code>","text":"<p>Converts catalog data to a list of dictionaries.</p> <p>Returns:</p> Type Description <code>list[dict]</code> <p>A list of dictionaries, one per catalog, containing all catalog metadata.</p> Source code in <code>sedbuilder/schemas.py</code> <pre><code>def to_list(self) -&gt; list[dict]:\n    \"\"\"Converts catalog data to a list of dictionaries.\n\n    Returns:\n        A list of dictionaries, one per catalog, containing all catalog metadata.\n    \"\"\"\n    return [c.model_dump() for c in self.Catalogs]\n</code></pre>"},{"location":"credits/","title":"Acknowledgment","text":"<p>This client package was realized by Giuseppe Dilillo.</p> <p>It would not exist without the work of Fabrizio Fabri on the REST API.</p> <p>Which would not exist itself without the work on the SED Builder service by Capalbi, Cutini, Gasparrini, Giommi, Maselli, Primavera, Stratta and maybe others<sup>1</sup>.</p> <p>I hope you enjoy it!</p> <ol> <li> <p>Please if you worked on SED Builder and you are missing from this list, let me know!\u00a0\u21a9</p> </li> </ol>"},{"location":"development/","title":"Developer guide","text":""},{"location":"development/#setup","title":"Setup","text":"<p>Clone the repository and install with development dependencies:</p> <pre><code>git clone https://github.com/peppedilillo/sedbuilder.git\ncd sedbuilder\npip install -e \".[dev]\"\n</code></pre>"},{"location":"development/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<p>Install pre-commit hooks to automatically format code before commits:</p> <pre><code>pre-commit install\n</code></pre> <p>This runs <code>black</code> (line length 120) and <code>isort</code> (Google profile) automatically.</p>"},{"location":"development/#running-tests","title":"Running Tests","text":"<pre><code>pytest\n</code></pre>"},{"location":"development/#building-documentation","title":"Building Documentation","text":"<pre><code>pip install -e \".[docs]\"\nmkdocs serve\n</code></pre>"}]}